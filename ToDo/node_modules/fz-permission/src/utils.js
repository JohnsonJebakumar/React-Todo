export const underScoreSplit=(str)=>{
      return str.split('_')
}
export const permissionCheck = (permissionApi) => (modulePermission,success=true,failure=false) => {
        var [module,permission]=underScoreSplit(modulePermission || "*");
         console.log(permissionApi,module,permission)
        if(module == "*" && typeof permission == "undefined")
            return success;

        if(permissionApi[module]){

            var validation= permissionApi[module][permission]?permissionApi[module][permission]:permissionApi[module].flags && permissionApi[module].flags[permission]?permissionApi[module].flags[permission]:false;
            if(validation){
                return success;
            }else{
                return failure;
            }
        }else{
            var validation = permissionApi.flags && permissionApi.flags[permission] || null;
            if(validation){
                return success;
            }
            else{
                return failure;
            }
        }
}
export const licenseCheck = (licenseApi) => (license,success=true,failure=false) =>{
    if(license == "*"){
        return success;
    }
    if(licenseApi[license]){
        return success;
    }
    else{
        return failure;
    }
}
