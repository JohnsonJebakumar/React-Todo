import React from 'react';
import { AppProvider } from 'fz-i18n';
import renderer from 'react-test-renderer';
import { licensePermissionCheckHOC } from '../licensePermissionCheckHOC';
import configureStore from 'redux-mock-store';


var permission = {
	ticket:{
		create:true,
		view:true
	},
	flags:{
		administratorDashboard:true
	}
}
describe("licensePermissionCheckHOC",()=>{
	it("test1",()=>{
		var Temp = ()=><div>Test</div>
		Temp =licensePermissionCheckHOC({component:{license:"*",permission:"ticket_view"}})(Temp);

		var ele=renderer.create(
			    <AppProvider store={configureStore()({})}  permission={permission}
			     user={{id:"1",name:"vimal"}} timeZone="Asia/kolkata">
			      <Temp/>
			    </AppProvider>
		);
    	var tree=ele.toJSON();
		expect(tree).toMatchSnapshot();
	})
	fit("test2",()=>{
		var Temp = ({data})=><div>{data}</div>
		Temp =licensePermissionCheckHOC({
			props:{
				agents:(props)=>{
					return {
						permission:"*_administratorDashboard",
						obj:props.data,
						falseObj:null
					}
				}
			}
		})(Temp);

		var ele=renderer.create(
			    <AppProvider store={configureStore()({})}  permission={permission}
			     user={{id:"1",name:"vimal"}} timeZone="Asia/kolkata">
			      <Temp data="vimal"/>
			    </AppProvider>
		);
    	var tree=ele.toJSON();
		expect(tree).toMatchSnapshot();
	})
})